{
  "version": 3,
  "sources": ["browser-external:events", "../../inherits/inherits_browser.js", "../../geolocation/node_modules/debug/debug.js", "../../geolocation/index.js"],
  "sourcesContent": ["module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"events\" has been externalized for browser compatibility. Cannot access \"events.${key}\" in client code.`)\n    }\n  }\n}))", "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n", "\n/**\n * Expose `debug()` as the module.\n */\n\nmodule.exports = debug;\n\n/**\n * Create a debugger with the given `name`.\n *\n * @param {String} name\n * @return {Type}\n * @api public\n */\n\nfunction debug(name) {\n  if (!debug.enabled(name)) return function(){};\n\n  return function(fmt){\n    fmt = coerce(fmt);\n\n    var curr = new Date;\n    var ms = curr - (debug[name] || curr);\n    debug[name] = curr;\n\n    fmt = name\n      + ' '\n      + fmt\n      + ' +' + debug.humanize(ms);\n\n    // This hackery is required for IE8\n    // where `console.log` doesn't have 'apply'\n    window.console\n      && console.log\n      && Function.prototype.apply.call(console.log, console, arguments);\n  }\n}\n\n/**\n * The currently active debug mode names.\n */\n\ndebug.names = [];\ndebug.skips = [];\n\n/**\n * Enables a debug mode by name. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} name\n * @api public\n */\n\ndebug.enable = function(name) {\n  try {\n    localStorage.debug = name;\n  } catch(e){}\n\n  var split = (name || '').split(/[\\s,]+/)\n    , len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    name = split[i].replace('*', '.*?');\n    if (name[0] === '-') {\n      debug.skips.push(new RegExp('^' + name.substr(1) + '$'));\n    }\n    else {\n      debug.names.push(new RegExp('^' + name + '$'));\n    }\n  }\n};\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\ndebug.disable = function(){\n  debug.enable('');\n};\n\n/**\n * Humanize the given `ms`.\n *\n * @param {Number} m\n * @return {String}\n * @api private\n */\n\ndebug.humanize = function(ms) {\n  var sec = 1000\n    , min = 60 * 1000\n    , hour = 60 * min;\n\n  if (ms >= hour) return (ms / hour).toFixed(1) + 'h';\n  if (ms >= min) return (ms / min).toFixed(1) + 'm';\n  if (ms >= sec) return (ms / sec | 0) + 's';\n  return ms + 'ms';\n};\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\ndebug.enabled = function(name) {\n  for (var i = 0, len = debug.skips.length; i < len; i++) {\n    if (debug.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (var i = 0, len = debug.names.length; i < len; i++) {\n    if (debug.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Coerce `val`.\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n// persist\n\ntry {\n  if (window.localStorage) debug.enable(localStorage.debug);\n} catch(e){}\n", "\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , debug = require('debug')('geolocation')\n\nvar currentPosition\n  , watchers = 0\n  , watcherHandle\n  , emitter = new EventEmitter()\n\nemitter.setMaxListeners(0)\n\nmodule.exports = exports = emitter\n\nexports.options = {}\n\nexports.getCurrentPosition = function (callback) {\n  if (watchers) {\n    if (currentPosition) {\n      debug('get current location - cache hit')\n      process.nextTick(function () {\n        callback(null, currentPosition)\n      })\n    } else {\n      debug('get current location - cache fetching')\n      function changeListener(position) {\n        emitter.removeListener('error', errorListener)\n        callback(null, position)\n      }\n      function errorListener(error) {\n        emitter.removeListener('change', changeListener)\n        callback(error)\n      }\n      emitter.once('change', changeListener)\n      emitter.once('error', errorListener)\n    }\n    return\n  }\n\n  debug('get current location - cache miss')\n  navigator.geolocation.getCurrentPosition(function (position) {\n\u00A0\u00A0  callback(null, position)\n  }, function (error) {\n    callback(error)\n  }, exports.options)\n}\n\nexports.createWatcher = function (callback) {\n  var watcher = new Watcher()\n\n  if (callback) {\n    watcher.on('change', callback)\n  }\n\n  watcher.start()\n\n  return watcher\n}\n\nfunction Watcher() {\n  EventEmitter.call(this)\n  this.watching = false\n\n  var self = this\n  this.changeHandler = function (position) {\n    self.emit('change', position)\n  }\n}\ninherits(Watcher, EventEmitter)\nexports.Watcher = Watcher\n\nWatcher.prototype.start = function () {\n  if (this.watching) return\n  this.watching = true\n  watchers++\n\n  debug('start watcher')\n\n  emitter.on('change', this.changeHandler)\n\n  if (watchers === 1) {\n    debug('start geolocation watch position')\n    watcherHandle = navigator.geolocation.watchPosition(function (position) {\n      currentPosition = position\n      emitter.emit('change', position)\n    }, function (error) {\n      emitter.emit('error', error)\n    }, this.options)\n  }\n}\n\nWatcher.prototype.stop = function () {\n  if (!this.watching) return\n  this.watching = false\n  watchers--\n\n  emitter.removeListener('change', this.changeHandler)\n\n  if (!watchers) {\n    debug('clear geolocation watch')\n    navigator.geolocation.clearWatch(watcherHandle)\n  }\n}\n"],
  "mappings": "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",
  "names": ["changeListener", "errorListener"]
}
